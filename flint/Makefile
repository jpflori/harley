# This file is autogenerated by ./configure -- do not edit!

MPIR_LIB_DIR=/media/local/flori/local/lib
MPIR_INCLUDE_DIR=/media/local/flori/local/include
MPFR_LIB_DIR=/media/local/flori/local/lib
MPFR_INCLUDE_DIR=/media/local/flori/local/include
NTL_LIB_DIR=/usr/lib
NTL_INCLUDE_DIR=/usr/include
FLINT_LIB_DIR=/media/local/flori/local/lib
FLINT_INCLUDE_DIR=/media/local/flori/local/include
FLINT_CPIMPORT_DIR=/media/local/flori/local/share/flint
FLINT_CPIMPORT=/media/local/flori/local/share/flint/CPimport.txt

CC=gcc
CXX=g++
CFLAGS=-g -O0  -DFLINT_CPIMPORT=\"/media/local/flori/local/share/flint/CPimport.txt\"
PREFIX=/media/local/flori/local

POINTS=points

LIBS=-L$(CURDIR) -L$(FLINT_LIB_DIR) -L$(MPIR_LIB_DIR) -L$(MPFR_LIB_DIR) -L$(NTL_LIB_DIR) -lflint -lmpir -lmpfr -lm
INCS=-I$(CURDIR) -I$(FLINT_INCLUDE_DIR) -I$(MPIR_INCLUDE_DIR) -I$(MPFR_INCLUDE_DIR) -I$(NTL_INCLUDE_DIR)

LD_LIBRARY_PATH:=${CURDIR}:${FLINT_LIB_DIR}:${MPFR_LIB_DIR}:${MPIR_LIB_DIR}:${NTL_LIB_DIR}:${LD_LIBRARY_PATH}
export LD_LIBRARY_PATH

SOURCES = $(wildcard *.c)

HEADERS = $(wildcard *.h)

OBJS = $(patsubst %.c, build/%.o, $(SOURCES))

all: build-dir $(OBJS) points

build-dir:
	mkdir -p build

points: $(OBJS)
	$(CC) -fPIC $(OBJS) $(LIBS) -o $(POINTS);

clean:
	rm -f $(OBJS)
	rm -rf build

distclean: clean
	rm -f Makefile

library: library-recursive $(OBJS) $(LIB_OBJS)
	mkdir -p build
	mkdir -p build/interfaces
	if [ "$(WANT_NTL)" -eq "1" ]; then \
		if [ "$(FLINT_SHARED)" -eq "1" ]; then \
			$(CXX) -fPIC  $(CFLAGS) $(INCS) -c interfaces/NTL-interface.cpp -o build/interfaces/NTL-interface.lo; \
		fi; \
		if [ "$(FLINT_STATIC)" -eq "1" ]; then \
			$(CXX) -fPIC  $(CFLAGS) $(INCS) -c interfaces/NTL-interface.cpp -o build/interfaces/NTL-interface.o; \
		fi; \
	fi
	if [ "$(FLINT_SHARED)" -eq "1" ]; then \
		$(CC) -fPIC -shared $(LIB_OBJS) $(LIBS2) -o $(FLINT_LIB); \
	fi
	if [ "$(FLINT_STATIC)" -eq "1" ]; then \
		$(AR) rcs libflint.a $(OBJS) $(LINKLIBS); \
	fi

.PHONY: clean all

build/%.o: %.c
	$(CC) -fPIC $(CFLAGS) $(INCS) -c $< -o $@

